@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ECHOLOCATION DESIGN SYSTEM V1 */

@layer base {
  :root {
    /* Echo Palette - Light Mode */
    --background: 0 0% 98%;
    --foreground: 220 15% 12%;
    
    --card: 0 0% 100%;
    --card-foreground: 220 15% 12%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 220 15% 12%;
    
    /* Echo Blue - Primary ping color */
    --primary: 210 95% 45%;
    --primary-foreground: 0 0% 100%;
    
    /* Muted surfaces */
    --secondary: 220 15% 95%;
    --secondary-foreground: 220 15% 12%;
    
    --muted: 220 10% 92%;
    --muted-foreground: 220 10% 40%;
    
    /* Accent - Sonar Green */
    --accent: 145 65% 48%;
    --accent-foreground: 0 0% 100%;
    
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;
    
    --border: 220 15% 88%;
    --input: 220 15% 88%;
    --ring: 210 95% 45%;
    
    /* Echo-specific tokens */
    --echo-ping: 210 95% 45%;
    --echo-success: 145 65% 48%;
    --echo-warning: 35 95% 55%;
    --echo-faint: 220 10% 70%;
    --echo-ghost: 220 5% 85%;
    --echo-frosted: 0 0% 100% / 0.8;
    
    /* Motion timings */
    --motion-snap: 90ms;
    --motion-smooth: 150ms;
    --motion-fluid: 220ms;
    
    --radius: 0.5rem;
  }

  .dark {
    /* Echo Palette - Dark Mode */
    --background: 220 20% 8%;
    --foreground: 220 10% 95%;
    
    --card: 220 18% 12%;
    --card-foreground: 220 10% 95%;
    
    --popover: 220 18% 12%;
    --popover-foreground: 220 10% 95%;
    
    /* Echo Blue - brighter in dark */
    --primary: 210 100% 60%;
    --primary-foreground: 220 20% 8%;
    
    --secondary: 220 15% 18%;
    --secondary-foreground: 220 10% 95%;
    
    --muted: 220 15% 15%;
    --muted-foreground: 220 10% 60%;
    
    /* Accent - Sonar Green */
    --accent: 145 60% 55%;
    --accent-foreground: 220 20% 8%;
    
    --destructive: 0 72% 58%;
    --destructive-foreground: 0 0% 100%;
    
    --border: 220 15% 22%;
    --input: 220 15% 22%;
    --ring: 210 100% 60%;
    
    /* Echo-specific tokens - dark adjusted */
    --echo-ping: 210 100% 60%;
    --echo-success: 145 60% 55%;
    --echo-warning: 35 95% 62%;
    --echo-faint: 220 10% 35%;
    --echo-ghost: 220 10% 25%;
    --echo-frosted: 220 18% 12% / 0.9;
  }
  
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'IBM Plex Mono', monospace;
    font-feature-settings: 'cv11' 1, 'ss01' 1;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Space Grotesk', sans-serif;
    font-weight: 600;
    letter-spacing: -0.02em;
  }
  
  /* Typography Scale */
  .text-display {
    @apply text-6xl font-bold;
  }
  
  .text-heading-1 {
    @apply text-4xl font-semibold;
  }
  
  .text-heading-2 {
    @apply text-3xl font-semibold;
  }
  
  .text-heading-3 {
    @apply text-xl font-semibold;
  }
  
  .text-body {
    @apply text-base;
  }
  
  .text-small {
    @apply text-sm;
  }
  
  .text-tiny {
    @apply text-xs;
  }
}

@layer components {
  /* Echo Microinteractions */
  .echo-ping {
    animation: ping-pulse 0.6s cubic-bezier(0.4, 0, 0.6, 1);
  }
  
  .echo-ripple {
    animation: ripple 0.4s ease-out;
  }
  
  .hover-lift {
    transition: transform 90ms ease-in-out;
  }
  
  .hover-lift:hover {
    transform: translateY(-1px);
  }
  
  .ghost-button {
    @apply inline-flex items-center justify-center rounded-full px-6 py-2.5 text-sm font-medium;
    @apply border-2 border-border bg-card/80 backdrop-blur-sm;
    transition: all 90ms ease-in-out;
    @apply hover:border-foreground hover:bg-card;
    @apply active:scale-[0.98];
  }
  
  .capsule-input {
    @apply w-full rounded-full border-2 border-input bg-background px-4 py-2.5;
    @apply text-sm focus:border-ring focus:outline-none focus:ring-2 focus:ring-ring/20;
    transition: all 150ms ease-in-out;
  }
  
  .flat-card {
    @apply rounded-2xl border-2 border-border bg-card p-6;
    @apply shadow-[0_1px_3px_rgba(0,0,0,0.05)];
  }
  
  .frosted-modal {
    @apply rounded-3xl border-2 border-border p-8;
    @apply backdrop-blur-xl;
    background: hsl(var(--echo-frosted));
  }
  
  /* Echo Patterns */
  .echo-dots {
    background-image: radial-gradient(circle, hsl(var(--border)) 1px, transparent 1px);
    background-size: 24px 24px;
  }
  
  .echo-grid {
    background-image: 
      linear-gradient(to right, hsl(var(--border)) 1px, transparent 1px),
      linear-gradient(to bottom, hsl(var(--border)) 1px, transparent 1px);
    background-size: 48px 48px;
  }
}

/* Motion utilities defined as plain CSS - can't use @apply with CSS variable arbitrary values */
.motion-snap {
  transition-duration: 90ms;
}

.motion-smooth {
  transition-duration: 150ms;
}

.motion-fluid {
  transition-duration: 220ms;
}

/* Keyframes */
@keyframes ping-pulse {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.8;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes ripple {
  from {
    transform: scale(0.95);
    opacity: 1;
  }
  to {
    transform: scale(1.05);
    opacity: 0;
  }
}

@keyframes slide-in-from-bottom {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-in-from-bottom {
  animation: slide-in-from-bottom 0.3s ease-out;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}
